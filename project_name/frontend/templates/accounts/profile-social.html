{% extends "accounts/base_profile.html" %}{% load i18n l10n pages widget_tweaks get_social_backends %}

{% block content %}

    {% include "_includes/message_panels.html" %}
    {% include "_includes/form_errors.html" %}

    <h1>{% trans "Social" %}</h1>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>{% trans 'Provider' %}</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% get_social_backends as social_auth_backends %}
        {% for social_account_name, _ in social_auth_backends.items %}
        <tr>
            <td>{{ social_account_name }}</td>
            <td>
                {% if social_account_name in backends.not_associated %}
                {% url 'qs_accounts:profile-social' as next_url %}
                    <a class="btn btn-success" role="button" href="{% url 'social:begin' social_account_name %}?next={{ next_url }}">{% trans 'Connect' %}</a>
                {% else %}
                <span class="btn btn-primary disabled">{% trans 'Connected' %}</span>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
